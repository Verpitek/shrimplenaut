<!DOCTYPE html>
<html lang="en" style="background-image: url({{ random_background }})">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shrimplenaut - Package management and distribution for Bedrock servers and addons</title>
    <meta name="description" content="Shrimplenaut is a package management and distribution platform designed for Minecraft Bedrock servers and Bedrock addons.">
    <meta name="keywords" content="Shrimplenaut, Verpitek, Minecraft Bedrock, Bedrock server, package management, addon distribution, Minecraft addons, server tools, mod management">
    <meta name="author" content="Verpitek">

    <meta property="og:title" content="Shrimplenaut by Verpitek - Package management and distribution for Bedrock servers and addons">
    <meta property="og:description" content="Shrimplenaut is a package management and distribution platform designed for Minecraft Bedrock servers and Bedrock addons.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="shrimplenaut.verpitek.com">
    <meta property="og:image" content="{{ url_for('static', filename='img/shrimplenaut.png') }}">
    <meta property="og:image:alt" content="Shrimplenaut Logo">

    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <link rel="canonical" href="shrimplenaut.verpitek.com">
    <link rel="preload" as="image" href="{{ random_background }}">
</head>
<body>
<div class="container">
     <ul class="navbar">
         <li><img class="profile_image" src="{{ github_profile["avatar_url"] }}" height="64px"></li>
     {% if github_profile != None %}
         <li><p>logged in as {{ github_profile["username"] }}</p></li>
                  <li><p>followers: {{ github_profile["followers"] }}</p></li>
         <li><p>user ID: {{ github_profile["id"] }}</p></li>
         <li><a href="{{ url_for('index') }}">Home</a></li>
         <li><a href="{{ url_for('my_packages') }}">my packages</a></li>
         <li><a href="{{ url_for('submit_package') }}">submit a new package</a></li>
         <li><a href="logout">logout</a></li>
         {% else %}
         <li><a href="login">login</a></li>
         <li><a href="{{ url_for('index') }}">Home</a></li>
         <style>
         .profile_image {
             border: none;
         }
         </style>
         {% endif %}
</ul>
</div>
    <div class="container" id="main" style="text-align: left">
        {% if github_profile != None %}
<form action="/submit_package_for_approval" method="GET">
    <label class="submit_label" for="package_name">Package Name</label>
    <input class="search_input" type="text" id="package_name" name="package_name" maxlength="255" required></br>
    <label class="submit_label" for="project_type">Project Type</label>
    <select class="search_button" name="project_type" id="project_type" required>
        <option value="plugin">Plugin</option>
        <option value="addon">Add-on</option>
        <option value="vAddon">vAdd-on</option>
        <option value="structure">Structure</option>
        <option value="mod">Mod</option>
    </select></br>
    <label class="submit_label" for="current_version">Current Version</label>
    <input class="search_input" type="text" id="current_version" name="current_version" maxlength="50" required></br>
    <label class="submit_label" for="repository_url">Repository URL</label>
    <input class="search_input" type="url" id="repository_url" name="repository_url" maxlength="512" required></br>
    <label class="submit_label" for="license">License</label>
    <input class="search_input" type="text" id="license" name="license" maxlength="100"></br>
    <label class="submit_label" for="versions_tested">Versions tested (example: ["1.21.80"])</label>
    <input class="search_input" type="text" id="versions_tested" name="versions_tested" placeholder='["1.21.80"]'></br>
    <label class="submit_label" for="tag">Tag</label>
    <select class="search_button" name="tag" id="tag">
        <option value="Economy">Economy</option>
        <option value="Library">Library</option>
        <option value="Management">Management</option>
        <option value="Minigame">Minigame</option>
        <option value="Chat">Chat</option>
        <option value="Cursed">Cursed</option>
        <option value="Misc">Misc</option>
        <option value="Utility and Tools">Utility and Tools</option>
        <option value="Game Mechanics">Game Mechanics</option>
    </select></br>
    <label class="submit_label" for="package_icon">Package Icon</label>
    <input class="search_input" type="text" id="package_icon" name="package_icon" maxlength="512"></br>
    <button class="search_button" type="submit">Submit for review</button>
</form>
        <script>
    function validateForm() {
        const packageName = document.getElementById('package_name').value;
        const projectType = document.getElementById('project_type').value;
        const currentVersion = document.getElementById('current_version').value;
        const repositoryUrl = document.getElementById('repository_url').value;
        const versionsTested = document.getElementById('versions_tested').value;
        const tag = document.getElementById('tag').value;
        const validationMessage = document.getElementById('validation-message');

        validationMessage.textContent = '';

        if (packageName === "" || projectType === "" || currentVersion === "" || repositoryUrl === "" || tag === "") {
            validationMessage.textContent = "Please fill in all required fields.";
            return false;
        }

        if (versionsTested !== "") {
            try {
                const parsed = JSON.parse(versionsTested);
                if (!Array.isArray(parsed)) {
                    validationMessage.textContent = "Versions tested must be a valid JSON array.";
                    return false;
                }
            } catch (e) {
                validationMessage.textContent = "Versions tested is not a valid JSON array. Please use the format: [\"1.21.80\"]";
                return false;
            }
        }

        return true;
    }
</script>
        {% else %}
        <h2>PLEASE LOGIN TO SUBMIT A PACKAGE!</h2>
        {% endif %}
    </div>
        <footer>
            <p id="footer">&copy; 2025 Verpitek. All rights reserved.</p>
            <a style="font-size: x-large; text-decoration: none; margin-right: 1vw;" href="https://github.com/Verpitek/shrimplenaut"></a>
            <a style="font-size: x-large; text-decoration: none; margin-right: 1vw;" href="https://discord.gg/fyNQNrr7dC">ﭮ</a>
        </footer>
</body>
</html>